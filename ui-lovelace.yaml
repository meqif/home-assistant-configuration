title: Home
resources:
  - url: /local/group-card.js?v=0
    type: module
  - url: /local/mini-graph-card-bundle.js?v=0.3.3
    type: module
  - url: /local/button-card.js
    type: module
  - url: /local/card-tools.js
    type: module
  - url: /local/useful-markdown-card.js
    type: module
views:
  - cards:
      - type: horizontal-stack
        cards:
        - type: 'custom:button-card'
          icon: mdi:sofa
          entity: light.living_room
          show_name: false
          hold_action:
            action: more-info
          state:
            - value: "on"
              color: 'var(--primary-color)'
            - value: "off"
              color: 'var(--light-primary-color)'
        - type: 'custom:button-card'
          icon: mdi:bed-empty
          entity: switch.bedroom_lamp
          show_name: false
          hold_action:
            action: more-info
          state:
            - value: "on"
              color: 'var(--primary-color)'
            - value: "off"
              color: 'var(--light-primary-color)'
        - type: 'custom:button-card'
          icon: mdi:door
          entity: light.hue_white_lamp_corredor
          show_name: false
          hold_action:
            action: more-info
          state:
            - value: "on"
              color: 'var(--primary-color)'
            - value: "off"
              color: 'var(--light-primary-color)'
      - type: entities
        title: Information
        show_header_toggle: false
        entities:
          - sensor.work_commute
          - sensor.home_commute
      - type: picture-entity
        entity: vacuum.neato
        camera_image: camera.neato_cleaning_map
    path: default_view
    title: Home
    icon: 'mdi:home-assistant'

  - icon: mdi:weather-cloudy
    id: weather
    title: Weather
    cards:
      - type: vertical-stack
        cards:
        - entity: weather.home
          type: weather-forecast
        - type: conditional
          conditions:
            - entity: binary_sensor.meteoalarm
              state: 'on'
          card:
            type: custom:useful-markdown-card
            content: >
              ## [[ binary_sensor.meteoalarm.attributes.event ]]

              *Severity*: [[ binary_sensor.meteoalarm.attributes.severity ]]
              <br>

              [[ binary_sensor.meteoalarm.attributes.description ]]

              [[ binary_sensor.meteoalarm.attributes.instruction ]]
        - type: iframe
          aspectratio: 100%
          url: !secret windy_embed_url
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            hour24: true
            points_per_hour: 12
            hours_to_show: 3
            name: Room Temperature
            align_icon: left
            align_header: left
            entities:
              - entity: sensor.bedroom_th_sensor_3
                name: Bedroom
              - entity: sensor.living_room_th_sensor
                name: Living Room
          - type: custom:mini-graph-card
            hour24: true
            points_per_hour: 12
            hours_to_show: 3
            name: Room Humidity
            align_icon: left
            align_header: left
            entities:
              - entity: sensor.bedroom_th_sensor_2
                name: Bedroom
              - entity: sensor.living_room_th_sensor_3
                name: Living Room
          - type: custom:mini-graph-card
            hour24: true
            points_per_hour: 12
            hours_to_show: 3
            name: Room Air Pressure
            align_icon: left
            align_header: left
            entities:
              - entity: sensor.bedroom_th_sensor
                name: Bedroom
              - entity: sensor.living_room_th_sensor_2
                name: Living Room

  - icon: mdi:door
    id: hall
    title: Hall
    cards:
      - type: entities
        show_header_toggle: false
        entities:
          - light.hue_white_lamp_corredor

  - icon: mdi:sofa
    id: living-room
    title: Living Room
    cards:
      - type: vertical-stack
        cards:
        - type: custom:group-card
          card:
            type: entities
            show_header_toggle: false
          group: group.living_room_lights
        - type: entities
          show_header_toggle: false
          entities:
            - switch.living_room_corner_light
        - type: entities
          show_header_toggle: false
          entities:
            - switch.smartplug_sala
      - type: horizontal-stack
        cards:
        - type: entity-button
          entity: scene.relax
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data:
              entity_id: scene.relax
        - type: entity-button
          entity: scene.regular_lights
          tap_action:
            action: call-service
            service: scene.turn_on
            service_data:
              entity_id: scene.regular_lights
      - type: vertical-stack
        cards:
        - type: custom:mini-graph-card
          show:
            extrema: true
            fill: false
            labels: true
          animate: true
          hours_to_show: 6
          points_per_hour: 4
          hour24: true
          name: Temperature
          entities:
            - sensor.living_room_th_sensor
        - type: horizontal-stack
          cards:
          - type: custom:mini-graph-card
            font_size: 75
            line_width: 8
            show:
              fill: false
              labels: false
            animate: true
            hours_to_show: 6
            points_per_hour: 4
            hour24: true
            name: Humidity
            entities:
              - sensor.living_room_th_sensor_3
          - type: custom:mini-graph-card
            font_size: 75
            line_width: 8
            show:
              fill: false
              labels: false
            animate: true
            hours_to_show: 6
            points_per_hour: 4
            hour24: true
            name: Pressure
            entities:
              - sensor.living_room_th_sensor_2

  - icon: mdi:bed-empty
    id: bedroom
    title: Bedroom
    cards:
      - type: entities
        show_header_toggle: false
        entities:
          - switch.bedroom_lamp
      - type: entities
        show_header_toggle: false
        entities:
          - switch.smartplug_quarto
      - type: vertical-stack
        cards:
        - type: custom:mini-graph-card
          show:
            extrema: true
            fill: false
          animate: true
          hours_to_show: 6
          points_per_hour: 4
          hour24: true
          name: Temperature
          entities:
            - sensor.bedroom_th_sensor_3
        - type: horizontal-stack
          cards:
          - type: custom:mini-graph-card
            font_size: 75
            line_width: 8
            show:
              fill: false
              labels: false
            animate: true
            hours_to_show: 6
            points_per_hour: 4
            hour24: true
            name: Humidity
            entities:
              - sensor.bedroom_th_sensor_2
          - type: custom:mini-graph-card
            font_size: 75
            line_width: 8
            show:
              fill: false
              labels: false
            animate: true
            hours_to_show: 6
            points_per_hour: 4
            hour24: true
            name: Pressure
            entities:
              - sensor.bedroom_th_sensor
